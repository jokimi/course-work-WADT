{"ast":null,"code":"var _jsxFileName = \"D:\\\\BSTU\\\\Projects\\\\\\u0422\\u0420\\u0412\\u041F\\\\PurePawSome\\\\client\\\\src\\\\pages\\\\Reminders.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { petsAPI } from '../services/api';\nimport ReminderForm from '../components/pets/ReminderForm';\nimport '../styles/Reminders.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Reminders = () => {\n  _s();\n  const [searchParams] = useSearchParams();\n  const petIdParam = searchParams.get('pet');\n  const [reminders, setReminders] = useState([]);\n  const [pets, setPets] = useState([]);\n  const [reminderTypes, setReminderTypes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [showForm, setShowForm] = useState(false);\n  const [filter, setFilter] = useState('all');\n  const [petFilter, setPetFilter] = useState(petIdParam || 'all');\n  useEffect(() => {\n    fetchData();\n  }, []);\n  useEffect(() => {\n    if (petIdParam) {\n      setPetFilter(petIdParam);\n    }\n  }, [petIdParam]);\n  const fetchData = async () => {\n    try {\n      const [remindersData, petsData, typesData] = await Promise.all([petsAPI.getReminders(), petsAPI.getMyPets(), petsAPI.getReminderTypes()]);\n      setReminders(remindersData);\n      setPets(petsData);\n      setReminderTypes(typesData);\n    } catch (error) {\n      setError('Ошибка при загрузке данных');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleCreateReminder = async reminderData => {\n    try {\n      // Объединяем дату и время в один объект Date\n      if (reminderData.reminderDate && reminderData.reminderTime) {\n        const dateTimeString = `${reminderData.reminderDate}T${reminderData.reminderTime}`;\n        reminderData.reminderDate = dateTimeString;\n        delete reminderData.reminderTime;\n      }\n\n      // Подготавливаем данные для отправки\n      const requestData = {\n        petId: reminderData.petId,\n        typeId: reminderData.typeId,\n        reminderDate: reminderData.reminderDate,\n        notes: reminderData.notes || '',\n        frequencyType: reminderData.frequencyType || 'once',\n        frequencyInterval: reminderData.frequencyInterval || null,\n        frequencyUnit: reminderData.frequencyUnit || null,\n        notificationType: reminderData.notificationType || 'at_start',\n        notificationValue: reminderData.notificationValue || null,\n        notificationUnit: reminderData.notificationUnit || null\n      };\n      await petsAPI.createReminder(requestData);\n      await fetchData();\n      setShowForm(false);\n    } catch (error) {\n      setError('Ошибка при создании напоминания');\n    }\n  };\n  const handleUpdateStatus = async (reminderId, status) => {\n    try {\n      await petsAPI.updateReminderStatus(reminderId, status);\n      await fetchData();\n    } catch (error) {\n      setError('Ошибка при обновлении статуса');\n    }\n  };\n  const handleDeleteCompleted = async () => {\n    const completedCount = reminders.filter(r => r.status === 'completed' && !r.hidden).length;\n    if (completedCount === 0) {\n      setError('Нет выполненных напоминаний для скрытия');\n      setTimeout(() => setError(''), 3000);\n      return;\n    }\n    if (window.confirm(`Вы уверены, что хотите скрыть все выполненные напоминания (${completedCount})?`)) {\n      setError('');\n      setSuccess('');\n      try {\n        const result = await petsAPI.deleteCompletedReminders();\n        await fetchData();\n        setSuccess(result.message || `Скрыто выполненных напоминаний: ${completedCount}`);\n        setTimeout(() => setSuccess(''), 5000);\n      } catch (error) {\n        var _error$response, _error$response$data;\n        setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Ошибка при скрытии выполненных напоминаний');\n        setTimeout(() => setError(''), 5000);\n      }\n    }\n  };\n  const handleRestoreReminder = async reminderId => {\n    try {\n      await petsAPI.updateReminderStatus(reminderId, 'pending');\n      await fetchData();\n      setSuccess('Напоминание восстановлено');\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (error) {\n      setError('Ошибка при восстановлении напоминания');\n      setTimeout(() => setError(''), 3000);\n    }\n  };\n  const handleDeleteReminder = async reminderId => {\n    if (!reminderId) {\n      setError('ID напоминания не указан');\n      setTimeout(() => setError(''), 3000);\n      return;\n    }\n    if (window.confirm('Вы уверены, что хотите удалить это напоминание?')) {\n      try {\n        await petsAPI.deleteReminder(reminderId);\n        await fetchData();\n        setSuccess('Напоминание удалено');\n        setTimeout(() => setSuccess(''), 3000);\n      } catch (error) {\n        var _error$response2, _error$response2$data;\n        setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Ошибка при удалении напоминания');\n        setTimeout(() => setError(''), 3000);\n      }\n    }\n  };\n  const filteredReminders = reminders.filter(reminder => {\n    // Исключаем просроченные напоминания из отображения\n    const reminderDate = new Date(reminder.reminderdate || reminder.reminderDate);\n    const today = new Date();\n    const isOverdue = reminderDate < today && reminder.status === 'pending';\n    if (isOverdue) return false; // Не показываем просроченные\n\n    // Фильтр по статусу\n    if (filter !== 'all') {\n      if (filter === 'pending' && reminder.status !== 'pending') return false;\n      if (filter === 'completed' && reminder.status !== 'completed') return false;\n      if (filter === 'cancelled' && reminder.status !== 'cancelled') return false;\n    }\n\n    // Фильтр по питомцу\n    if (petFilter !== 'all') {\n      var _reminder$pet;\n      const reminderPetId = ((_reminder$pet = reminder.pet) === null || _reminder$pet === void 0 ? void 0 : _reminder$pet.id) || reminder.petid;\n      if (reminderPetId !== parseInt(petFilter)) return false;\n    }\n    return true;\n  });\n  const selectedPet = petIdParam ? pets.find(p => p.id === parseInt(petIdParam)) : null;\n  const getUpcomingReminders = () => {\n    const today = new Date();\n    return reminders.filter(reminder => {\n      const reminderDate = new Date(reminder.reminderdate || reminder.reminderDate);\n      return reminderDate >= today && reminder.status === 'pending';\n    });\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043D\\u0430\\u043F\\u043E\\u043C\\u0438\\u043D\\u0430\\u043D\\u0438\\u0439...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reminders\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: selectedPet ? `Напоминания для: ${selectedPet.petname}` : 'Напоминания по уходу'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u0439\\u0442\\u0435 \\u043D\\u0430\\u043F\\u043E\\u043C\\u0438\\u043D\\u0430\\u043D\\u0438\\u044F\\u043C\\u0438 \\u043E \\u0432\\u0430\\u0436\\u043D\\u044B\\u0445 \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u044F\\u0445 \\u0434\\u043B\\u044F \\u0432\\u0430\\u0448\\u0438\\u0445 \\u043F\\u0438\\u0442\\u043E\\u043C\\u0446\\u0435\\u0432\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowForm(true),\n          className: \"btn btn-primary\",\n          disabled: pets.length === 0,\n          children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043D\\u0430\\u043F\\u043E\\u043C\\u0438\\u043D\\u0430\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 27\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 29\n      }, this), pets.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-icon\",\n          children: \"\\u23F0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0423 \\u0432\\u0430\\u0441 \\u043F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u043F\\u0438\\u0442\\u043E\\u043C\\u0446\\u0435\\u0432\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043F\\u0438\\u0442\\u043E\\u043C\\u0446\\u0430, \\u0447\\u0442\\u043E\\u0431\\u044B \\u0441\\u043E\\u0437\\u0434\\u0430\\u0432\\u0430\\u0442\\u044C \\u043D\\u0430\\u043F\\u043E\\u043C\\u0438\\u043D\\u0430\\u043D\\u0438\\u044F \\u043F\\u043E \\u0443\\u0445\\u043E\\u0434\\u0443 \\u0437\\u0430 \\u043D\\u0438\\u043C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reminders-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: getUpcomingReminders().length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u041F\\u0440\\u0435\\u0434\\u0441\\u0442\\u043E\\u044F\\u0449\\u0438\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-card completed\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: reminders.filter(r => r.status === 'completed' && !r.hidden).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u043D\\u044B\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `filter-btn ${filter === 'all' ? 'active' : ''}`,\n                onClick: () => setFilter('all'),\n                children: \"\\u0412\\u0441\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `filter-btn ${filter === 'pending' ? 'active' : ''}`,\n                onClick: () => setFilter('pending'),\n                children: \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u044B\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `filter-btn ${filter === 'completed' ? 'active' : ''}`,\n                onClick: () => setFilter('completed'),\n                children: \"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u043D\\u044B\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `filter-btn ${filter === 'cancelled' ? 'active' : ''}`,\n                onClick: () => setFilter('cancelled'),\n                children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0435\\u043D\\u043D\\u044B\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            \"data-label\": \"\\u041F\\u0438\\u0442\\u043E\\u043C\\u0435\\u0446\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: petFilter,\n              onChange: e => setPetFilter(e.target.value),\n              className: `pet-filter-select ${petFilter !== 'all' ? 'filter-selected' : ''}`,\n              style: {\n                backgroundImage: `url(${process.env.PUBLIC_URL || ''}/icons/paw.svg)`,\n                backgroundSize: '16px 16px',\n                backgroundRepeat: 'no-repeat',\n                backgroundPosition: 'right 12px center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"\\u0412\\u0441\\u0435 \\u043F\\u0438\\u0442\\u043E\\u043C\\u0446\\u044B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 37\n              }, this), pets.map(pet => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: pet.id,\n                children: pet.petname\n              }, pet.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 41\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reminders-list\",\n          children: filteredReminders.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            style: {\n              marginTop: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u041D\\u0430\\u043F\\u043E\\u043C\\u0438\\u043D\\u0430\\u043D\\u0438\\u044F \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                marginBottom: 0\n              },\n              children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0439\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0432\\u043E\\u0435 \\u043D\\u0430\\u043F\\u043E\\u043C\\u0438\\u043D\\u0430\\u043D\\u0438\\u0435 \\u0434\\u043B\\u044F \\u0432\\u0430\\u0448\\u0435\\u0433\\u043E \\u043F\\u0438\\u0442\\u043E\\u043C\\u0446\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 33\n          }, this) : filteredReminders.map(reminder => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `reminder-card ${reminder.status}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reminder-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: reminder.type.name || reminder.type.rtname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"pet-name\",\n                children: [\"\\u041F\\u0438\\u0442\\u043E\\u043C\\u0435\\u0446: \", reminder.pet.petname || reminder.pet.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"reminder-date\",\n                children: new Date(reminder.reminderdate || reminder.reminderDate).toLocaleString('ru-RU', {\n                  day: 'numeric',\n                  month: 'long',\n                  year: 'numeric',\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 45\n              }, this), reminder.frequency_type && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"reminder-frequency\",\n                children: [\"\\u041F\\u0435\\u0440\\u0438\\u043E\\u0434\\u0438\\u0447\\u043D\\u043E\\u0441\\u0442\\u044C: \", reminder.frequency_type === 'once' ? 'Один раз' : reminder.frequency_type === 'daily' ? 'Ежедневно' : reminder.frequency_type === 'weekly' ? 'Раз в неделю' : reminder.frequency_type === 'monthly' ? 'Раз в месяц' : reminder.frequency_type === 'yearly' ? 'Раз в год' : reminder.frequency_type === 'custom' ? `Каждые ${reminder.frequency_interval} ${reminder.frequency_unit === 'day' ? 'день(дней)' : reminder.frequency_unit === 'week' ? 'неделя(недель)' : 'месяц(месяцев)'}` : 'Не указано']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 49\n              }, this), reminder.notification_type && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"reminder-notification\",\n                children: [\"\\u041E\\u043F\\u043E\\u0432\\u0435\\u0449\\u0435\\u043D\\u0438\\u0435: \", reminder.notification_type === 'at_start' ? 'Во время начала события' : reminder.notification_type === '1min' ? 'За минуту' : reminder.notification_type === '5min' ? 'За 5 минут' : reminder.notification_type === '10min' ? 'За 10 минут' : reminder.notification_type === '15min' ? 'За 15 минут' : reminder.notification_type === '30min' ? 'За полчаса' : reminder.notification_type === '1hour' ? 'За час' : reminder.notification_type === '1day' ? 'За день' : reminder.notification_type === 'custom' ? `За ${reminder.notification_value} ${reminder.notification_unit === 'min' ? 'минут(ы)' : reminder.notification_unit === 'hour' ? 'час(а)' : 'день(дней)'}` : 'Не указано']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 49\n              }, this), reminder.notes && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"reminder-notes\",\n                children: reminder.notes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reminder-actions\",\n              children: [reminder.status === 'pending' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleUpdateStatus(reminder.id, 'completed'),\n                  className: \"btn btn-primary\",\n                  children: \"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u043E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleUpdateStatus(reminder.id, 'cancelled'),\n                  className: \"btn btn-outline\",\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true), reminder.status === 'completed' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteReminder(reminder.id),\n                  className: \"btn btn-danger\",\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false), reminder.status === 'cancelled' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleRestoreReminder(reminder.id),\n                  className: \"btn btn-primary\",\n                  children: \"\\u0412\\u043E\\u0441\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteReminder(reminder.id),\n                  className: \"btn btn-primary\",\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status-badge ${reminder.status}`,\n                style: {\n                  alignItems: 'center',\n                  display: 'flex'\n                },\n                children: reminder.status === 'pending' ? 'Активно' : reminder.status === 'completed' ? 'Выполнено' : 'Отменено'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 41\n            }, this)]\n          }, reminder.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), showForm && /*#__PURE__*/_jsxDEV(ReminderForm, {\n        pets: pets,\n        reminderTypes: reminderTypes,\n        onSubmit: handleCreateReminder,\n        onClose: () => setShowForm(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 9\n  }, this);\n};\n_s(Reminders, \"hopcERpjN8L2xH9rRtknyrWjTNg=\", false, function () {\n  return [useSearchParams];\n});\n_c = Reminders;\nexport default Reminders;\nvar _c;\n$RefreshReg$(_c, \"Reminders\");","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","petsAPI","ReminderForm","jsxDEV","_jsxDEV","Fragment","_Fragment","Reminders","_s","searchParams","petIdParam","get","reminders","setReminders","pets","setPets","reminderTypes","setReminderTypes","loading","setLoading","error","setError","success","setSuccess","showForm","setShowForm","filter","setFilter","petFilter","setPetFilter","fetchData","remindersData","petsData","typesData","Promise","all","getReminders","getMyPets","getReminderTypes","handleCreateReminder","reminderData","reminderDate","reminderTime","dateTimeString","requestData","petId","typeId","notes","frequencyType","frequencyInterval","frequencyUnit","notificationType","notificationValue","notificationUnit","createReminder","handleUpdateStatus","reminderId","status","updateReminderStatus","handleDeleteCompleted","completedCount","r","hidden","length","setTimeout","window","confirm","result","deleteCompletedReminders","message","_error$response","_error$response$data","response","data","handleRestoreReminder","handleDeleteReminder","deleteReminder","_error$response2","_error$response2$data","filteredReminders","reminder","Date","reminderdate","today","isOverdue","_reminder$pet","reminderPetId","pet","id","petid","parseInt","selectedPet","find","p","getUpcomingReminders","className","children","fileName","_jsxFileName","lineNumber","columnNumber","petname","onClick","disabled","value","onChange","e","target","style","backgroundImage","process","env","PUBLIC_URL","backgroundSize","backgroundRepeat","backgroundPosition","map","marginTop","marginBottom","type","name","rtname","toLocaleString","day","month","year","hour","minute","frequency_type","frequency_interval","frequency_unit","notification_type","notification_value","notification_unit","alignItems","display","onSubmit","onClose","_c","$RefreshReg$"],"sources":["D:/BSTU/Projects/ТРВП/PurePawSome/client/src/pages/Reminders.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { petsAPI } from '../services/api';\nimport ReminderForm from '../components/pets/ReminderForm';\nimport '../styles/Reminders.css';\n\nconst Reminders = () => {\n    const [searchParams] = useSearchParams();\n    const petIdParam = searchParams.get('pet');\n    const [reminders, setReminders] = useState([]);\n    const [pets, setPets] = useState([]);\n    const [reminderTypes, setReminderTypes] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n    const [showForm, setShowForm] = useState(false);\n    const [filter, setFilter] = useState('all');\n    const [petFilter, setPetFilter] = useState(petIdParam || 'all');\n\n    useEffect(() => {\n        fetchData();\n    }, []);\n\n    useEffect(() => {\n        if (petIdParam) {\n            setPetFilter(petIdParam);\n        }\n    }, [petIdParam]);\n\n    const fetchData = async () => {\n        try {\n            const [remindersData, petsData, typesData] = await Promise.all([\n                petsAPI.getReminders(),\n                petsAPI.getMyPets(),\n                petsAPI.getReminderTypes()\n            ]);\n\n            setReminders(remindersData);\n            setPets(petsData);\n            setReminderTypes(typesData);\n        } catch (error) {\n            setError('Ошибка при загрузке данных');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleCreateReminder = async (reminderData) => {\n        try {\n            // Объединяем дату и время в один объект Date\n            if (reminderData.reminderDate && reminderData.reminderTime) {\n                const dateTimeString = `${reminderData.reminderDate}T${reminderData.reminderTime}`;\n                reminderData.reminderDate = dateTimeString;\n                delete reminderData.reminderTime;\n            }\n            \n            // Подготавливаем данные для отправки\n            const requestData = {\n                petId: reminderData.petId,\n                typeId: reminderData.typeId,\n                reminderDate: reminderData.reminderDate,\n                notes: reminderData.notes || '',\n                frequencyType: reminderData.frequencyType || 'once',\n                frequencyInterval: reminderData.frequencyInterval || null,\n                frequencyUnit: reminderData.frequencyUnit || null,\n                notificationType: reminderData.notificationType || 'at_start',\n                notificationValue: reminderData.notificationValue || null,\n                notificationUnit: reminderData.notificationUnit || null\n            };\n\n            await petsAPI.createReminder(requestData);\n            await fetchData();\n            setShowForm(false);\n        } catch (error) {\n            setError('Ошибка при создании напоминания');\n        }\n    };\n\n    const handleUpdateStatus = async (reminderId, status) => {\n        try {\n            await petsAPI.updateReminderStatus(reminderId, status);\n            await fetchData();\n        } catch (error) {\n            setError('Ошибка при обновлении статуса');\n        }\n    };\n\n    const handleDeleteCompleted = async () => {\n        const completedCount = reminders.filter(r => r.status === 'completed' && !r.hidden).length;\n        if (completedCount === 0) {\n            setError('Нет выполненных напоминаний для скрытия');\n            setTimeout(() => setError(''), 3000);\n            return;\n        }\n\n        if (window.confirm(`Вы уверены, что хотите скрыть все выполненные напоминания (${completedCount})?`)) {\n            setError('');\n            setSuccess('');\n            try {\n                const result = await petsAPI.deleteCompletedReminders();\n                await fetchData();\n                setSuccess(result.message || `Скрыто выполненных напоминаний: ${completedCount}`);\n                setTimeout(() => setSuccess(''), 5000);\n            } catch (error) {\n                setError(error.response?.data?.message || 'Ошибка при скрытии выполненных напоминаний');\n                setTimeout(() => setError(''), 5000);\n            }\n        }\n    };\n\n    const handleRestoreReminder = async (reminderId) => {\n        try {\n            await petsAPI.updateReminderStatus(reminderId, 'pending');\n            await fetchData();\n            setSuccess('Напоминание восстановлено');\n            setTimeout(() => setSuccess(''), 3000);\n        } catch (error) {\n            setError('Ошибка при восстановлении напоминания');\n            setTimeout(() => setError(''), 3000);\n        }\n    };\n\n    const handleDeleteReminder = async (reminderId) => {\n        if (!reminderId) {\n            setError('ID напоминания не указан');\n            setTimeout(() => setError(''), 3000);\n            return;\n        }\n        \n        if (window.confirm('Вы уверены, что хотите удалить это напоминание?')) {\n            try {\n                await petsAPI.deleteReminder(reminderId);\n                await fetchData();\n                setSuccess('Напоминание удалено');\n                setTimeout(() => setSuccess(''), 3000);\n            } catch (error) {\n                setError(error.response?.data?.message || 'Ошибка при удалении напоминания');\n                setTimeout(() => setError(''), 3000);\n            }\n        }\n    };\n\n    const filteredReminders = reminders.filter(reminder => {\n        // Исключаем просроченные напоминания из отображения\n        const reminderDate = new Date(reminder.reminderdate || reminder.reminderDate);\n        const today = new Date();\n        const isOverdue = reminderDate < today && reminder.status === 'pending';\n        \n        if (isOverdue) return false; // Не показываем просроченные\n        \n        // Фильтр по статусу\n        if (filter !== 'all') {\n            if (filter === 'pending' && reminder.status !== 'pending') return false;\n            if (filter === 'completed' && reminder.status !== 'completed') return false;\n            if (filter === 'cancelled' && reminder.status !== 'cancelled') return false;\n        }\n        \n        // Фильтр по питомцу\n        if (petFilter !== 'all') {\n            const reminderPetId = reminder.pet?.id || reminder.petid;\n            if (reminderPetId !== parseInt(petFilter)) return false;\n        }\n        \n        return true;\n    });\n\n    const selectedPet = petIdParam ? pets.find(p => p.id === parseInt(petIdParam)) : null;\n\n    const getUpcomingReminders = () => {\n        const today = new Date();\n        return reminders.filter(reminder => {\n            const reminderDate = new Date(reminder.reminderdate || reminder.reminderDate);\n            return reminderDate >= today && reminder.status === 'pending';\n        });\n    };\n\n\n    if (loading) return <div className=\"loading\">Загрузка напоминаний...</div>;\n\n    return (\n        <div className=\"reminders\">\n            <div className=\"container\">\n                <div className=\"page-header\">\n                    <h1>\n                        {selectedPet ? `Напоминания для: ${selectedPet.petname}` : 'Напоминания по уходу'}\n                    </h1>\n                    <p>Управляйте напоминаниями о важных событиях для ваших питомцев</p>\n                    <button\n                        onClick={() => setShowForm(true)}\n                        className=\"btn btn-primary\"\n                        disabled={pets.length === 0}\n                    >\n                        Создать напоминание\n                    </button>\n                </div>\n\n                {error && <div className=\"error-message\">{error}</div>}\n                {success && <div className=\"success-message\">{success}</div>}\n\n                {pets.length === 0 ? (\n                    <div className=\"empty-state\">\n                        <div className=\"empty-icon\">⏰</div>\n                        <h3>У вас пока нет питомцев</h3>\n                        <p>Добавьте питомца, чтобы создавать напоминания по уходу за ним</p>\n                    </div>\n                ) : (\n                    <>\n                        <div className=\"reminders-stats\">\n                            <div className=\"stat-card\">\n                                <h3>{getUpcomingReminders().length}</h3>\n                                <p>Предстоящие</p>\n                            </div>\n                            <div className=\"stat-card completed\">\n                                <h3>{reminders.filter(r => r.status === 'completed' && !r.hidden).length}</h3>\n                                <p>Выполненные</p>\n                            </div>\n                        </div>\n\n                        <div className=\"filters\">\n                            <div className=\"filter-group\">\n                                <div className=\"filter-buttons\">\n                                    <button\n                                        className={`filter-btn ${filter === 'all' ? 'active' : ''}`}\n                                        onClick={() => setFilter('all')}\n                                    >\n                                        Все\n                                    </button>\n                                    <button\n                                        className={`filter-btn ${filter === 'pending' ? 'active' : ''}`}\n                                        onClick={() => setFilter('pending')}\n                                    >\n                                        Активные\n                                    </button>\n                                    <button\n                                        className={`filter-btn ${filter === 'completed' ? 'active' : ''}`}\n                                        onClick={() => setFilter('completed')}\n                                    >\n                                        Выполненные\n                                    </button>\n                                    <button\n                                        className={`filter-btn ${filter === 'cancelled' ? 'active' : ''}`}\n                                        onClick={() => setFilter('cancelled')}\n                                    >\n                                        Отмененные\n                                    </button>\n                                </div>\n                            </div>\n                            <div className=\"filter-group\" data-label=\"Питомец\">\n                                <select\n                                    value={petFilter}\n                                    onChange={(e) => setPetFilter(e.target.value)}\n                                    className={`pet-filter-select ${petFilter !== 'all' ? 'filter-selected' : ''}`}\n                                    style={{\n                                        backgroundImage: `url(${process.env.PUBLIC_URL || ''}/icons/paw.svg)`,\n                                        backgroundSize: '16px 16px',\n                                        backgroundRepeat: 'no-repeat',\n                                        backgroundPosition: 'right 12px center'\n                                    }}\n                                >\n                                    <option value=\"all\">Все питомцы</option>\n                                    {pets.map(pet => (\n                                        <option key={pet.id} value={pet.id}>\n                                            {pet.petname}\n                                        </option>\n                                    ))}\n                                </select>\n                            </div>\n                        </div>\n\n                        <div className=\"reminders-list\">\n                            {filteredReminders.length === 0 ? (\n                                <div className=\"empty-state\" style={{marginTop: 0}}>\n                                    <h3>Напоминания не найдены</h3>\n                                    <p style={{ marginBottom: 0 }}>Создайте первое напоминание для вашего питомца</p>\n                                </div>\n                            ) : (\n                                filteredReminders.map(reminder => (\n                                    <div key={reminder.id} className={`reminder-card ${reminder.status}`}>\n                                        <div className=\"reminder-info\">\n                                            <h4>{reminder.type.name || reminder.type.rtname}</h4>\n                                            <p className=\"pet-name\">Питомец: {reminder.pet.petname || reminder.pet.name}</p>\n                                            <p className=\"reminder-date\">\n                                                {new Date(reminder.reminderdate || reminder.reminderDate).toLocaleString('ru-RU', {\n                                                    day: 'numeric',\n                                                    month: 'long',\n                                                    year: 'numeric',\n                                                    hour: '2-digit',\n                                                    minute: '2-digit'\n                                                })}\n                                            </p>\n                                            {reminder.frequency_type && (\n                                                <p className=\"reminder-frequency\">\n                                                    Периодичность: {\n                                                        reminder.frequency_type === 'once' ? 'Один раз' :\n                                                        reminder.frequency_type === 'daily' ? 'Ежедневно' :\n                                                        reminder.frequency_type === 'weekly' ? 'Раз в неделю' :\n                                                        reminder.frequency_type === 'monthly' ? 'Раз в месяц' :\n                                                        reminder.frequency_type === 'yearly' ? 'Раз в год' :\n                                                        reminder.frequency_type === 'custom' ? \n                                                            `Каждые ${reminder.frequency_interval} ${reminder.frequency_unit === 'day' ? 'день(дней)' : reminder.frequency_unit === 'week' ? 'неделя(недель)' : 'месяц(месяцев)'}` :\n                                                        'Не указано'\n                                                    }\n                                                </p>\n                                            )}\n                                            {reminder.notification_type && (\n                                                <p className=\"reminder-notification\">\n                                                    Оповещение: {\n                                                        reminder.notification_type === 'at_start' ? 'Во время начала события' :\n                                                        reminder.notification_type === '1min' ? 'За минуту' :\n                                                        reminder.notification_type === '5min' ? 'За 5 минут' :\n                                                        reminder.notification_type === '10min' ? 'За 10 минут' :\n                                                        reminder.notification_type === '15min' ? 'За 15 минут' :\n                                                        reminder.notification_type === '30min' ? 'За полчаса' :\n                                                        reminder.notification_type === '1hour' ? 'За час' :\n                                                        reminder.notification_type === '1day' ? 'За день' :\n                                                        reminder.notification_type === 'custom' ?\n                                                            `За ${reminder.notification_value} ${reminder.notification_unit === 'min' ? 'минут(ы)' : reminder.notification_unit === 'hour' ? 'час(а)' : 'день(дней)'}` :\n                                                        'Не указано'\n                                                    }\n                                                </p>\n                                            )}\n                                            {reminder.notes && (\n                                                <p className=\"reminder-notes\">{reminder.notes}</p>\n                                            )}\n                                        </div>\n                                        <div className=\"reminder-actions\">\n                                            {reminder.status === 'pending' && (\n                                                <>\n                                                    <button\n                                                        onClick={() => handleUpdateStatus(reminder.id, 'completed')}\n                                                        className=\"btn btn-primary\"\n                                                    >\n                                                        Выполнено\n                                                    </button>\n                                                    <button\n                                                        onClick={() => handleUpdateStatus(reminder.id, 'cancelled')}\n                                                        className=\"btn btn-outline\"\n                                                    >\n                                                        Отменить\n                                                    </button>\n                                                </>\n                                            )}\n                                            {reminder.status === 'completed' && (\n                                                <>\n                                                    <button\n                                                        onClick={() => handleDeleteReminder(reminder.id)}\n                                                        className=\"btn btn-danger\"\n                                                    >\n                                                        Удалить\n                                                    </button>\n                                                </>\n                                            )}\n                                            {reminder.status === 'cancelled' && (\n                                                <>\n                                                    <button\n                                                        onClick={() => handleRestoreReminder(reminder.id)}\n                                                        className=\"btn btn-primary\"\n                                                    >\n                                                        Восстановить\n                                                    </button>\n                                                    <button\n                                                        onClick={() => handleDeleteReminder(reminder.id)}\n                                                        className=\"btn btn-primary\"\n                                                    >\n                                                        Удалить\n                                                    </button>\n                                                </>\n                                            )}\n                                            <span className={`status-badge ${reminder.status}`} style={{alignItems: 'center', display: 'flex'}}>\n                        {reminder.status === 'pending' ? 'Активно' :\n                            reminder.status === 'completed' ? 'Выполнено' : 'Отменено'}\n                      </span>\n                                        </div>\n                                    </div>\n                                ))\n                            )}\n                        </div>\n                    </>\n                )}\n\n                {showForm && (\n                    <ReminderForm\n                        pets={pets}\n                        reminderTypes={reminderTypes}\n                        onSubmit={handleCreateReminder}\n                        onClose={() => setShowForm(false)}\n                    />\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default Reminders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}