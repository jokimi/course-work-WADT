{"ast":null,"code":"var _jsxFileName = \"D:\\\\BSTU\\\\Projects\\\\\\u0422\\u0420\\u0412\\u041F\\\\PurePawSome\\\\client\\\\src\\\\components\\\\chat\\\\BreedChat.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { io } from 'socket.io-client';\nimport { chatAPI } from '../../services/api';\nimport { useAuth } from '../../context/AuthContext';\nimport '../../styles/BreedChat.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BreedChat = ({\n  breedId\n}) => {\n  _s();\n  const {\n    currentUser\n  } = useAuth();\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [socket, setSocket] = useState(null);\n  const messagesEndRef = useRef(null);\n  const messagesContainerRef = useRef(null);\n  useEffect(() => {\n    if (!currentUser) return;\n    const token = localStorage.getItem('token');\n    if (!token) return;\n\n    // –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ Socket.IO\n    const newSocket = io('http://localhost:5000', {\n      auth: {\n        token: token\n      }\n    });\n    newSocket.on('connect', () => {\n      console.log('–ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ —á–∞—Ç—É');\n      newSocket.emit('join-breed-chat', breedId);\n    });\n    newSocket.on('new-message', message => {\n      setMessages(prev => [...prev, message]);\n      scrollToBottom();\n    });\n    newSocket.on('error', error => {\n      console.error('–û—à–∏–±–∫–∞ Socket.IO:', error);\n    });\n    setSocket(newSocket);\n\n    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π\n    loadMessages();\n    return () => {\n      newSocket.emit('leave-breed-chat', breedId);\n      newSocket.disconnect();\n    };\n  }, [breedId, currentUser]);\n  const loadMessages = async () => {\n    try {\n      const data = await chatAPI.getBreedChatMessages(breedId, 50);\n      setMessages(data);\n      setLoading(false);\n      setTimeout(scrollToBottom, 100);\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π:', error);\n      setLoading(false);\n    }\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!newMessage.trim() || !socket) return;\n    try {\n      socket.emit('send-message', {\n        breedId: breedId,\n        message: newMessage.trim()\n      });\n      setNewMessage('');\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è:', error);\n    }\n  };\n  const formatTime = dateString => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diff = now - date;\n    const minutes = Math.floor(diff / 60000);\n    if (minutes < 1) return '—Ç–æ–ª—å–∫–æ —á—Ç–æ';\n    if (minutes < 60) return `${minutes} –º–∏–Ω –Ω–∞–∑–∞–¥`;\n    if (minutes < 1440) return `${Math.floor(minutes / 60)} —á –Ω–∞–∑–∞–¥`;\n    return date.toLocaleDateString('ru-RU', {\n      day: 'numeric',\n      month: 'short',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"breed-chat-loading\",\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0447\\u0430\\u0442\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"breed-chat\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"breed-chat-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCAC \\u0427\\u0430\\u0442 \\u0432\\u043B\\u0430\\u0434\\u0435\\u043B\\u044C\\u0446\\u0435\\u0432 \\u043F\\u043E\\u0440\\u043E\\u0434\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u041E\\u0431\\u0449\\u0430\\u0439\\u0442\\u0435\\u0441\\u044C \\u0441 \\u0434\\u0440\\u0443\\u0433\\u0438\\u043C\\u0438 \\u0432\\u043B\\u0430\\u0434\\u0435\\u043B\\u044C\\u0446\\u0430\\u043C\\u0438 \\u043F\\u0438\\u0442\\u043E\\u043C\\u0446\\u0435\\u0432 \\u044D\\u0442\\u043E\\u0439 \\u043F\\u043E\\u0440\\u043E\\u0434\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"breed-chat-messages\",\n      ref: messagesContainerRef,\n      children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"breed-chat-empty\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0439. \\u0411\\u0443\\u0434\\u044C\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0432\\u044B\\u043C!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }, this) : messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `breed-chat-message ${message.user.id === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id) ? 'own-message' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-avatar\",\n          children: message.user.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: message.user.avatar.startsWith('http') ? message.user.avatar : `http://localhost:5000${message.user.avatar}`,\n            alt: message.user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 37\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar-placeholder\",\n            children: message.user.name.charAt(0).toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"message-author\",\n              children: message.user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"message-time\",\n              children: formatTime(message.createdat)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-text\",\n            children: message.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 29\n        }, this)]\n      }, message.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), currentUser ? /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"breed-chat-input-form\",\n      onSubmit: handleSendMessage,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"breed-chat-input\",\n        placeholder: \"\\u041D\\u0430\\u043F\\u0438\\u0448\\u0438\\u0442\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435...\",\n        value: newMessage,\n        onChange: e => setNewMessage(e.target.value),\n        maxLength: 1000\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"breed-chat-send-btn\",\n        disabled: !newMessage.trim(),\n        children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"breed-chat-login-prompt\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0412\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435, \\u0447\\u0442\\u043E\\u0431\\u044B \\u0443\\u0447\\u0430\\u0441\\u0442\\u0432\\u043E\\u0432\\u0430\\u0442\\u044C \\u0432 \\u0447\\u0430\\u0442\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 9\n  }, this);\n};\n_s(BreedChat, \"JrXLgaGSqYK1VqcR2g2uWJ2FdM0=\", false, function () {\n  return [useAuth];\n});\n_c = BreedChat;\nexport default BreedChat;\nvar _c;\n$RefreshReg$(_c, \"BreedChat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","io","chatAPI","useAuth","jsxDEV","_jsxDEV","BreedChat","breedId","_s","currentUser","messages","setMessages","newMessage","setNewMessage","loading","setLoading","socket","setSocket","messagesEndRef","messagesContainerRef","token","localStorage","getItem","newSocket","auth","on","console","log","emit","message","prev","scrollToBottom","error","loadMessages","disconnect","data","getBreedChatMessages","setTimeout","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","e","preventDefault","trim","formatTime","dateString","date","Date","now","diff","minutes","Math","floor","toLocaleDateString","day","month","hour","minute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","length","map","user","id","avatar","src","startsWith","alt","name","charAt","toUpperCase","createdat","onSubmit","type","placeholder","value","onChange","target","maxLength","disabled","_c","$RefreshReg$"],"sources":["D:/BSTU/Projects/–¢–†–í–ü/PurePawSome/client/src/components/chat/BreedChat.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport { chatAPI } from '../../services/api';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport '../../styles/BreedChat.css';\r\n\r\nconst BreedChat = ({ breedId }) => {\r\n    const { currentUser } = useAuth();\r\n    const [messages, setMessages] = useState([]);\r\n    const [newMessage, setNewMessage] = useState('');\r\n    const [loading, setLoading] = useState(true);\r\n    const [socket, setSocket] = useState(null);\r\n    const messagesEndRef = useRef(null);\r\n    const messagesContainerRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (!currentUser) return;\r\n\r\n        const token = localStorage.getItem('token');\r\n        if (!token) return;\r\n\r\n        // –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ Socket.IO\r\n        const newSocket = io('http://localhost:5000', {\r\n            auth: {\r\n                token: token\r\n            }\r\n        });\r\n\r\n        newSocket.on('connect', () => {\r\n            console.log('–ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ —á–∞—Ç—É');\r\n            newSocket.emit('join-breed-chat', breedId);\r\n        });\r\n\r\n        newSocket.on('new-message', (message) => {\r\n            setMessages(prev => [...prev, message]);\r\n            scrollToBottom();\r\n        });\r\n\r\n        newSocket.on('error', (error) => {\r\n            console.error('–û—à–∏–±–∫–∞ Socket.IO:', error);\r\n        });\r\n\r\n        setSocket(newSocket);\r\n\r\n        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π\r\n        loadMessages();\r\n\r\n        return () => {\r\n            newSocket.emit('leave-breed-chat', breedId);\r\n            newSocket.disconnect();\r\n        };\r\n    }, [breedId, currentUser]);\r\n\r\n    const loadMessages = async () => {\r\n        try {\r\n            const data = await chatAPI.getBreedChatMessages(breedId, 50);\r\n            setMessages(data);\r\n            setLoading(false);\r\n            setTimeout(scrollToBottom, 100);\r\n        } catch (error) {\r\n            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π:', error);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n    };\r\n\r\n    const handleSendMessage = async (e) => {\r\n        e.preventDefault();\r\n        if (!newMessage.trim() || !socket) return;\r\n\r\n        try {\r\n            socket.emit('send-message', {\r\n                breedId: breedId,\r\n                message: newMessage.trim()\r\n            });\r\n            setNewMessage('');\r\n        } catch (error) {\r\n            console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è:', error);\r\n        }\r\n    };\r\n\r\n    const formatTime = (dateString) => {\r\n        const date = new Date(dateString);\r\n        const now = new Date();\r\n        const diff = now - date;\r\n        const minutes = Math.floor(diff / 60000);\r\n\r\n        if (minutes < 1) return '—Ç–æ–ª—å–∫–æ —á—Ç–æ';\r\n        if (minutes < 60) return `${minutes} –º–∏–Ω –Ω–∞–∑–∞–¥`;\r\n        if (minutes < 1440) return `${Math.floor(minutes / 60)} —á –Ω–∞–∑–∞–¥`;\r\n        \r\n        return date.toLocaleDateString('ru-RU', {\r\n            day: 'numeric',\r\n            month: 'short',\r\n            hour: '2-digit',\r\n            minute: '2-digit'\r\n        });\r\n    };\r\n\r\n    if (loading) {\r\n        return <div className=\"breed-chat-loading\">–ó–∞–≥—Ä—É–∑–∫–∞ —á–∞—Ç–∞...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"breed-chat\">\r\n            <div className=\"breed-chat-header\">\r\n                <h3>üí¨ –ß–∞—Ç –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –ø–æ—Ä–æ–¥—ã</h3>\r\n                <p>–û–±—â–∞–π—Ç–µ—Å—å —Å –¥—Ä—É–≥–∏–º–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞–º–∏ –ø–∏—Ç–æ–º—Ü–µ–≤ —ç—Ç–æ–π –ø–æ—Ä–æ–¥—ã</p>\r\n            </div>\r\n\r\n            <div className=\"breed-chat-messages\" ref={messagesContainerRef}>\r\n                {messages.length === 0 ? (\r\n                    <div className=\"breed-chat-empty\">\r\n                        <p>–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º!</p>\r\n                    </div>\r\n                ) : (\r\n                    messages.map((message) => (\r\n                        <div\r\n                            key={message.id}\r\n                            className={`breed-chat-message ${\r\n                                message.user.id === currentUser?.id ? 'own-message' : ''\r\n                            }`}\r\n                        >\r\n                            <div className=\"message-avatar\">\r\n                                {message.user.avatar ? (\r\n                                    <img\r\n                                        src={message.user.avatar.startsWith('http') \r\n                                            ? message.user.avatar \r\n                                            : `http://localhost:5000${message.user.avatar}`}\r\n                                        alt={message.user.name}\r\n                                    />\r\n                                ) : (\r\n                                    <div className=\"avatar-placeholder\">\r\n                                        {message.user.name.charAt(0).toUpperCase()}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"message-content\">\r\n                                <div className=\"message-header\">\r\n                                    <span className=\"message-author\">{message.user.name}</span>\r\n                                    <span className=\"message-time\">{formatTime(message.createdat)}</span>\r\n                                </div>\r\n                                <div className=\"message-text\">{message.message}</div>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                )}\r\n                <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            {currentUser ? (\r\n                <form className=\"breed-chat-input-form\" onSubmit={handleSendMessage}>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"breed-chat-input\"\r\n                        placeholder=\"–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...\"\r\n                        value={newMessage}\r\n                        onChange={(e) => setNewMessage(e.target.value)}\r\n                        maxLength={1000}\r\n                    />\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"breed-chat-send-btn\"\r\n                        disabled={!newMessage.trim()}\r\n                    >\r\n                        –û—Ç–ø—Ä–∞–≤–∏—Ç—å\r\n                    </button>\r\n                </form>\r\n            ) : (\r\n                <div className=\"breed-chat-login-prompt\">\r\n                    <p>–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —á–∞—Ç–µ</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BreedChat;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}