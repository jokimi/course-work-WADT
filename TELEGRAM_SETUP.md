# Настройка Telegram уведомлений

## Шаги для настройки:

### 1. Создание Telegram бота

1. Откройте Telegram и найдите бота [@BotFather](https://t.me/botfather)
2. Отправьте команду `/newbot`
3. Следуйте инструкциям и создайте бота
4. Сохраните токен бота (выглядит как `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

### 2. Настройка переменных окружения

Добавьте в файл `.env` (в корне проекта или в папке `server`):

```
TELEGRAM_BOT_TOKEN=ваш_токен_бота
```

### 3. Установка зависимостей

```bash
npm install
```

### 4. Применение миграции базы данных

```bash
cd server
npx prisma migrate deploy
# или
npx prisma migrate dev
```

### 5. Получение Telegram Chat ID

Пользователи могут получить свой Chat ID одним из следующих способов:

**Способ 1: Через бота @userinfobot**
1. Найдите бота [@userinfobot](https://t.me/userinfobot) в Telegram
2. Отправьте ему любое сообщение
3. Бот вернет ваш Chat ID
4. Скопируйте Chat ID и вставьте в профиль на сайте

**Способ 2: Через вашего бота**
1. Напишите вашему боту любое сообщение
2. В логах сервера будет виден Chat ID (если включен polling режим)

### 6. Настройка в профиле пользователя

1. Войдите в систему
2. Перейдите в раздел "Профиль"
3. Нажмите "Редактировать профиль"
4. Введите ваш Telegram Chat ID в поле "Telegram Chat ID"
5. Сохраните изменения

### 7. Проверка работы

После настройки:
- Уведомления будут отправляться за 15 минут до времени напоминания
- Просроченные напоминания будут проверяться каждый час
- Уведомления отправляются только пользователям, указавшим Telegram Chat ID

## Примечания

- Если `TELEGRAM_BOT_TOKEN` не установлен, уведомления в Telegram будут отключены, но приложение продолжит работать
- Cron jobs запускаются автоматически при старте сервера
- Проверка напоминаний происходит каждые 15 минут
- Проверка просроченных напоминаний происходит каждый час

